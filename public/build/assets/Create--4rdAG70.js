import{a as W,f as D,u as P,R as h,U as V,b as C,d as ee,e as oe,g as re,r as ae,h as se,W as te,j as o,P as L,B as U}from"./app-C_DxjwWY.js";import{P as ne}from"./PageHeader-OnnDhg3C.js";import{c as ie,u as le,A as ce,C as de,T as me,a as ue,S as N}from"./AppLayout-HsdZrY7g.js";import{g as H}from"./get-safe-id-KjcUIRmk.js";import{C as he,A as G}from"./AccordionChevron-TzXOvNPl.js";import{I as pe}from"./IconTrash-kHJMPzU4.js";import{G as x}from"./Grid-yslJ5uJl.js";import{T as M,D as ve}from"./Title-gs-8KFVt.js";import{T as F}from"./TextInput-C56idysm.js";import{I as fe}from"./IconId-l6UD1ZAi.js";import{I as ge,a as xe}from"./IconPassword-hBsFQ8i-.js";import{P as be}from"./PasswordInput-6zu8UkLk.js";import{F as ye}from"./Flex-1RADBffJ.js";import{I as Ce}from"./IconPlus-uNG9ZPgt.js";import{I as je,K as Ae}from"./IconCornerDownLeft-R6alCY5D.js";const[Ie,R]=W("Accordion component was not found in the tree"),[we,O]=W("Accordion.Item component was not found in the tree");var j={root:"m-9bdbb667",panel:"m-df78851f",content:"m-4ba554d4",itemTitle:"m-8fa820a0",control:"m-4ba585b8","control--default":"m-6939a5e9","control--contained":"m-4271d21b",label:"m-df3ffa0f",chevron:"m-3f35ae96",icon:"m-9bd771fe",item:"m-9bd7b098","item--default":"m-fe19b709","item--contained":"m-1f921b3b","item--filled":"m-2cdf939a","item--separated":"m-9f59b069"};const Pe={},T=D((l,e)=>{const{classNames:i,className:m,style:s,styles:r,vars:d,chevron:t,icon:u,onClick:c,onKeyDown:n,children:b,disabled:A,mod:S,...E}=P("AccordionControl",Pe,l),{value:g}=O(),a=R(),y=a.isItemActive(g),K=typeof a.order=="number",k=`h${a.order}`,I=h.createElement(V,{...E,...a.getStyles("control",{className:m,classNames:i,style:s,styles:r,variant:a.variant}),unstyled:a.unstyled,mod:["accordion-control",{active:y,"chevron-position":a.chevronPosition,disabled:A},S],ref:e,onClick:w=>{c==null||c(w),a.onChange(g)},type:"button",disabled:A,"aria-expanded":y,"aria-controls":a.getRegionId(g),id:a.getControlId(g),onKeyDown:ie({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:a.loop,orientation:"vertical",onKeyDown:n})},h.createElement(C,{component:"span",mod:{rotate:!a.disableChevronRotation&&y,position:a.chevronPosition},...a.getStyles("chevron",{classNames:i,styles:r})},t||a.chevron),h.createElement("span",{...a.getStyles("label",{classNames:i,styles:r})},b),u&&h.createElement(C,{component:"span",mod:{"chevron-position":a.chevronPosition},...a.getStyles("icon",{classNames:i,styles:r})},u));return K?h.createElement(k,{...a.getStyles("itemTitle",{classNames:i,styles:r})},I):I});T.displayName="@mantine/core/AccordionControl";T.classes=j;const Se={},_=D((l,e)=>{const{classNames:i,className:m,style:s,styles:r,vars:d,value:t,mod:u,...c}=P("AccordionItem",Se,l),n=R();return h.createElement(we,{value:{value:t}},h.createElement(C,{ref:e,mod:[{active:n.isItemActive(t)},u],...n.getStyles("item",{className:m,classNames:i,styles:r,style:s,variant:n.variant}),...c}))});_.displayName="@mantine/core/AccordionItem";_.classes=j;const Ee={},B=D((l,e)=>{const{classNames:i,className:m,style:s,styles:r,vars:d,children:t,...u}=P("AccordionPanel",Ee,l),{value:c}=O(),n=R();return h.createElement(he,{ref:e,...n.getStyles("panel",{className:m,classNames:i,style:s,styles:r}),...u,in:n.isItemActive(c),transitionDuration:n.transitionDuration??200,role:"region",id:n.getRegionId(c),"aria-labelledby":n.getControlId(c)},h.createElement("div",{...n.getStyles("content",{classNames:i,styles:r})},t))});B.displayName="@mantine/core/AccordionPanel";B.classes=j;const ke={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:h.createElement(G,null)},$e=re((l,{transitionDuration:e,chevronSize:i,radius:m})=>({root:{"--accordion-transition-duration":e===void 0?void 0:`${e}ms`,"--accordion-chevron-size":i===void 0?void 0:ae(i),"--accordion-radius":m===void 0?void 0:se(m)}}));function p(l){const e=P("Accordion",ke,l),{classNames:i,className:m,style:s,styles:r,unstyled:d,vars:t,children:u,multiple:c,value:n,defaultValue:b,onChange:A,id:S,loop:E,transitionDuration:g,disableChevronRotation:a,chevronPosition:y,chevronSize:K,order:k,chevron:I,variant:w,radius:De,...q}=e,$=ee(S),[v,J]=le({value:n,defaultValue:b,finalValue:c?[]:null,onChange:A}),Q=f=>Array.isArray(v)?v.includes(f):f===v,X=f=>{const Y=Array.isArray(v)?v.includes(f)?v.filter(Z=>Z!==f):[...v,f]:f===v?null:f;J(Y)},z=oe({name:"Accordion",classes:j,props:e,className:m,style:s,classNames:i,styles:r,unstyled:d,vars:t,varsResolver:$e});return h.createElement(Ie,{value:{isItemActive:Q,onChange:X,getControlId:H(`${$}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:H(`${$}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:g,disableChevronRotation:a,chevronPosition:y,order:k,chevron:I,loop:E,getStyles:z,variant:w,unstyled:d}},h.createElement(C,{...z("root"),id:$,...q,variant:w,"data-accordion":!0},u))}const Ne=l=>l;p.extend=Ne;p.classes=j;p.displayName="@mantine/core/Accordion";p.Item=_;p.Panel=B;p.Control=T;p.Chevron=G;const Je=l=>{const e=te({couriers:[{full_name:"",username:"",password:""}]}),i=()=>{e.setData("couriers",[...e.data.couriers,{full_name:"",username:"",password:""}])},m=s=>{const r=[...e.data.couriers];r.splice(s,1),e.setData("couriers",r)};return o.jsxs(ce,{title:l.title,auth:l.auth.user,meta:l.meta,children:[o.jsx(ne,{title:l.title,breadcrumbs:[{label:"Kurir",route:"couriers.index"},{label:"Tambah",route:"couriers.create"}]}),o.jsxs("form",{onSubmit:s=>{s.preventDefault(),!e.hasErrors&&e.post(route("couriers.store"))},children:[o.jsx(p,{mb:32,styles:{content:{padding:32}},children:e.data.couriers.map((s,r)=>o.jsxs(p.Item,{value:`courier-${r}`,children:[o.jsxs(de,{children:[o.jsx(p.Control,{mr:16,children:o.jsxs(me,{fw:500,children:[s.full_name," (Kurir ",r+1,")"]})}),o.jsx(ue,{size:40,radius:"xl",variant:"subtle",color:"red",onClick:()=>m(r),disabled:e.data.couriers.length===1,children:o.jsx(pe,{})})]}),o.jsx(p.Panel,{children:o.jsxs(N,{children:[o.jsxs(x,{children:[o.jsx(x.Col,{span:{base:12,sm:4},children:o.jsx(M,{order:3,children:"Profil"})}),o.jsx(x.Col,{span:{base:12,sm:8},children:o.jsx(L,{p:32,radius:20,withBorder:!0,children:o.jsx(N,{gap:24,children:o.jsx(F,{label:"Nama Lengkap",placeholder:"Masukkan nama",variant:"filled",radius:"xl",leftSection:o.jsx(fe,{size:16}),value:s.full_name,styles:{label:{marginBottom:8}},onChange:d=>{const t=[...e.data.couriers];t[r].full_name=d.target.value,e.setData("couriers",t),d.target.value?e.clearErrors(`couriers.${r}.full_name`):e.setError(`couriers.${r}.full_name`,"Nama lengkap tidak boleh kosong.")},error:e.errors[`couriers.${r}.full_name`]})})})})]}),o.jsx(ve,{my:32}),o.jsxs(x,{children:[o.jsx(x.Col,{span:{base:12,sm:4},children:o.jsx(M,{order:3,children:"Akun"})}),o.jsx(x.Col,{span:{base:12,sm:8},children:o.jsx(L,{p:32,radius:20,withBorder:!0,children:o.jsxs(N,{gap:24,children:[o.jsx(F,{label:"Username",placeholder:"Masukkan nama pengguna",variant:"filled",radius:"xl",leftSection:o.jsx(ge,{size:16}),onChange:d=>{const t=d.target.value.toLowerCase(),u=[...e.data.couriers];u[r].username=t,e.setData("couriers",u);const c=t?l.users.some(n=>n.username===t)||u.some((n,b)=>n.username===t&&b!==r)?"Nama pengguna sudah digunakan.":"":"Nama pengguna tidak boleh kosong.";c?e.setError(`couriers.${r}.username`,c):e.clearErrors(`couriers.${r}.username`)},styles:{label:{marginBottom:8}},value:s.username,error:e.errors[`couriers.${r}.username`]}),o.jsx(be,{label:"Password",placeholder:"Masukkan kata sandi",variant:"filled",radius:"xl",leftSection:o.jsx(xe,{size:16}),onChange:d=>{const t=[...e.data.couriers];t[r].password=d.target.value,e.setData("couriers",t),d.target.value?e.clearErrors(`couriers.${r}.password`):e.setError(`couriers.${r}.password`,"Kata sandi tidak boleh kosong.")},styles:{description:{marginBottom:16}},value:s.password,error:e.errors[`couriers.${r}.password`]})]})})})]})]})})]},r))}),o.jsx(C,{style:{display:"flex",justifyContent:"flex-end",gap:16},children:o.jsxs(ye,{direction:{base:"column",xs:"row"},gap:16,w:{base:"100%",xs:"auto"},children:[o.jsx(U,{variant:"outline",leftSection:o.jsx(Ce,{}),radius:"xl",color:"red.5",onClick:i,disabled:e.processing,children:"Tambah Kurir Lainnya"}),o.jsx(U,{leftSection:o.jsx(je,{}),rightSection:o.jsx(Ae,{children:"Enter"}),loading:e.processing,disabled:e.hasErrors||e.data.couriers.some(s=>!s.full_name||!s.username||!s.password),radius:"xl",color:"red.5",type:"submit",children:"Simpan"})]})})]})]})};export{Je as default};
