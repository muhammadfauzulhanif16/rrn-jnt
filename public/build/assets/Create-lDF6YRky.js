import{i as c,W as D,j as e,P as f,B as m,G as w}from"./app-C_DxjwWY.js";import{P as y}from"./PageHeader-OnnDhg3C.js";import{A as P,S as d,T as b,C as B,a as g}from"./AppLayout-HsdZrY7g.js";import{G as i}from"./Grid-yslJ5uJl.js";import{T as S,D as u}from"./Title-gs-8KFVt.js";import{S as E}from"./Select-_gJN92p0.js";import{I as R}from"./IconStatusChange-vrwTvw0m.js";import{T as l}from"./Tabs-HDMTV0PT.js";import{T as _}from"./TextInput-C56idysm.js";import{I as z,F,a as N}from"./IconReceipt-0GuSqs4n.js";import{I as v}from"./IconTrash-kHJMPzU4.js";import{F as I}from"./Flex-1RADBffJ.js";import{I as A}from"./IconPlus-uNG9ZPgt.js";import{I as G,K as L}from"./IconCornerDownLeft-R6alCY5D.js";import"./get-safe-id-KjcUIRmk.js";const se=o=>{const[t,x]=c.useState(null),n=c.useRef(null),s=D({status:"Belum Siap Dikirim",items:[{receipt_number:""}],file:t});console.log(s.data),c.useEffect(()=>{t&&s.setData("file",t)},[t]);const C=()=>{s.setData("items",[...s.data.items,{receipt_number:""}])},T=r=>{const a=[...s.data.items];a.splice(r,1),s.setData("items",a)};return e.jsxs(P,{title:o.title,auth:o.auth.user,meta:o.meta,children:[e.jsx(y,{title:o.title,breadcrumbs:[{label:"Pesanan",route:"orders.index"},{label:"Tambah",route:"orders.create"}]}),e.jsxs("form",{onSubmit:r=>{r.preventDefault(),!s.hasErrors&&s.post(route("orders.store"))},children:[e.jsxs(d,{children:[e.jsxs(i,{children:[e.jsx(i.Col,{span:{base:12,sm:4},children:e.jsx(S,{order:3,children:"Pesanan"})}),e.jsx(i.Col,{span:{base:12,sm:8},children:e.jsx(f,{p:32,radius:20,withBorder:!0,children:e.jsx(d,{gap:24,children:e.jsx(E,{label:"Status",placeholder:"Pilih status",variant:"filled",radius:"xl",data:["Belum Siap Dikirim","Siap Dikirim"],checkIconPosition:"right",allowDeselect:!1,leftSection:e.jsx(R,{size:16}),withScrollArea:!1,value:s.data.status,styles:{label:{marginBottom:8},dropdown:{padding:4,borderRadius:20},option:{borderRadius:20}},onChange:r=>{s.setData("status",r)},error:s.errors.status})})})})]}),e.jsx(u,{my:32}),e.jsxs(i,{children:[e.jsx(i.Col,{span:{base:12,sm:4},children:e.jsx(S,{order:3,children:"Barang"})}),e.jsx(i.Col,{span:{base:12,sm:8},children:e.jsx(f,{p:32,radius:20,withBorder:!0,children:e.jsxs(l,{color:"red.5",radius:"xs",defaultValue:"manual",styles:{tab:{padding:16},panel:{marginTop:32}},children:[e.jsxs(l.List,{grow:!0,children:[e.jsx(l.Tab,{disabled:t,value:"manual",children:"Manual"}),e.jsx(l.Tab,{disabled:s.data.items.some(r=>r.receipt_number),value:"automatic",children:"Otomatis"})]}),e.jsxs(l.Panel,{value:"manual",children:[e.jsx(b,{fw:500,mb:8,size:"sm",children:"Nomor Resi"}),e.jsx(d,{gap:24,children:s.data.items.map((r,a)=>e.jsxs(B,{children:[e.jsx(_,{w:"100%",mr:16,placeholder:`Masukkan nomor resi ${a+1}`,variant:"filled",radius:"xl",leftSection:e.jsx(z,{size:16}),value:r.receipt_number,onChange:k=>{const p=k.target.value,h=[...s.data.items];h[a].receipt_number=p,s.setData("items",h);const j=p?"":"Nomor resi tidak boleh kosong";j?s.setError(`items.${a}.receipt_number`,j):s.clearErrors(`items.${a}.receipt_number`)},styles:{label:{marginBottom:8}}}),e.jsx(g,{size:40,radius:"xl",variant:"subtle",color:"red",onClick:()=>T(a),disabled:s.data.items.length===1,children:e.jsx(v,{})})]},a))}),e.jsx(u,{my:32}),e.jsx(I,{justify:"flex-end",children:e.jsx(m,{variant:"outline",leftSection:e.jsx(A,{}),radius:"xl",color:"red.5",onClick:C,disabled:s.processing,children:"Tambah Nomor Resi Lainnya"})})]}),e.jsxs(l.Panel,{value:"automatic",children:[e.jsxs(w,{justify:"center",children:[e.jsx(F,{leftSection:e.jsx(N,{}),color:"green",variant:"outline",resetRef:n,radius:"xl",onChange:x,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",children:r=>e.jsx(m,{...r,children:"Impor Excel/CSV"})}),e.jsx(g,{size:40,radius:"xl",variant:"subtle",color:"red",onClick:()=>{var r;x(null),(r=n.current)==null||r.call(n)},disabled:!t,children:e.jsx(v,{})})]}),t&&e.jsxs(b,{size:"sm",ta:"center",mt:"sm",children:["Picked file: ",t.name]})]})]})})})]})]}),e.jsx(u,{my:32}),e.jsx(I,{justify:"flex-end",children:e.jsx(m,{leftSection:e.jsx(G,{}),rightSection:e.jsx(L,{children:"Enter"}),loading:s.processing,disabled:s.hasErrors,radius:"xl",color:"red.5",type:"submit",children:"Simpan"})})]})]})};export{se as default};
