import{R as u,f as de,u as fe,e as me,i as m,s as pe,U as W,c as ve,t as Ne,g as he,x as be}from"./app-C_DxjwWY.js";import{N as we}from"./react-number-format.es-35aNL67y.js";import{e as ge,u as Re}from"./AppLayout-HsdZrY7g.js";import{I as O}from"./Flex-1RADBffJ.js";import{c as R}from"./clamp-153t9aX1.js";function G({direction:r,style:n,...s}){return u.createElement("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:r==="up"?"rotate(180deg)":void 0,...n},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},u.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var I={root:"m-e2f5cd4e",controls:"m-95e17d22",control:"m-80b4b171"};const Se=/^-0(\.0*)?$/,ye=/^-?0\d+$/;function Ve(r){return(typeof r=="number"?r<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(r)))&&!Number.isNaN(r)}function De({value:r,min:n,step:s=1,allowNegative:d}){const a=r-s;return n!==void 0&&a<n?n:!d&&a<0&&n===void 0?r:(n!==void 0&&n>=0&&a<=n,a)}function K(r,n,s){if(r===void 0)return!0;const d=n===void 0||r>=n,a=s===void 0||r<=s;return d&&a}const Ee={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,startValue:0},Ce=he((r,{size:n})=>({controls:{"--ni-chevron-size":be(n,"ni-chevron-size")}})),X=de((r,n)=>{const s=fe("NumberInput",Ee,r),{className:d,classNames:a,styles:P,unstyled:x,vars:j,onChange:q,onValueChange:S,value:J,defaultValue:Q,max:o,min:i,step:p,hideControls:Y,rightSection:L,isAllowed:v,clampBehavior:A,onBlur:y,allowDecimal:ee,decimalScale:te,onKeyDown:V,handlersRef:re,startValue:U,disabled:N,rightSectionPointerEvents:ne,allowNegative:z,readOnly:D,size:_,rightSectionWidth:oe,stepHoldInterval:h,stepHoldDelay:B,allowLeadingZeros:M,...se}=s,E=me({name:"NumberInput",classes:I,props:s,classNames:a,styles:P,unstyled:x,vars:j,varsResolver:Ce}),{resolvedClassNames:ae,resolvedStyles:ie}=ge({classNames:a,styles:P,props:s}),[t,c]=Re({value:J,defaultValue:Q,onChange:q}),T=B!==void 0&&h!==void 0,H=m.useRef(null),f=m.useRef(null),C=m.useRef(0),le=(e,l)=>{l.source==="event"&&c(Ve(e.floatValue)&&!Se.test(e.value)&&!(M&&ye.test(e.value))?e.floatValue:e.value),S==null||S(e,l)},b=m.useRef();b.current=()=>{typeof t!="number"||Number.isNaN(t)?c(R(U,i,o)):c(o!==void 0?t+p<=o?t+p:o:t+p)};const w=m.useRef();w.current=()=>{typeof t!="number"||Number.isNaN(t)?c(R(U,i,o)):c(De({value:t,min:i,step:p,allowNegative:z}))};const ue=e=>{V==null||V(e),!D&&(e.key==="ArrowUp"&&(e.preventDefault(),b.current()),e.key==="ArrowDown"&&(e.preventDefault(),w.current()))};pe(re,{increment:b.current,decrement:w.current});const Z=e=>{e?b.current():w.current(),C.current+=1},$=e=>{if(Z(e),T){const l=typeof h=="number"?h:h(C.current);f.current=window.setTimeout(()=>$(e),l)}},k=(e,l)=>{var F;e.preventDefault(),(F=H.current)==null||F.focus(),Z(l),T&&(f.current=window.setTimeout(()=>$(l),B))},g=()=>{f.current&&window.clearTimeout(f.current),f.current=null,C.current=0},ce=u.createElement("div",{...E("controls")},u.createElement(W,{...E("control"),tabIndex:-1,"aria-hidden":!0,disabled:N||typeof t=="number"&&o!==void 0&&t>=o,mod:{direction:"up"},onMouseDown:e=>e.preventDefault(),onPointerDown:e=>{k(e,!0)},onPointerUp:g,onPointerLeave:g},u.createElement(G,{direction:"up"})),u.createElement(W,{...E("control"),tabIndex:-1,"aria-hidden":!0,disabled:N||typeof t=="number"&&i!==void 0&&t<=i,mod:{direction:"down"},onMouseDown:e=>e.preventDefault(),onPointerDown:e=>{k(e,!1)},onPointerUp:g,onPointerLeave:g},u.createElement(G,{direction:"down"})));return u.createElement(O,{component:we,allowNegative:z,className:ve(I.root,d),size:_,...se,readOnly:D,disabled:N,value:t,getInputRef:Ne(n,H),onValueChange:le,rightSection:Y||D?L:L||ce,classNames:ae,styles:ie,unstyled:x,__staticSelector:"NumberInput",decimalScale:ee?te:0,onKeyDown:ue,rightSectionPointerEvents:ne??(N?"none":void 0),rightSectionWidth:oe??`var(--ni-right-section-width-${_||"sm"})`,allowLeadingZeros:M,onBlur:e=>{y==null||y(e),A==="blur"&&typeof t=="number"&&R(t,i,o)!==t&&c(R(t,i,o))},isAllowed:e=>A==="strict"?v?v(e)&&K(e.floatValue,i,o):K(e.floatValue,i,o):v?v(e):!0})});X.classes={...O.classes,...I};X.displayName="@mantine/core/NumberInput";export{X as N};
